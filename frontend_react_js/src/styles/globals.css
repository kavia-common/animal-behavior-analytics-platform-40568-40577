@tailwind base;
@tailwind components;
@tailwind utilities;

/* VizAI Global Design Tokens - map legacy tokens to theme.css variables for compatibility */
:root {
  /* Backward-compatible aliasing to theme.css tokens */
  --color-primary: var(--primary);
  --color-primary-dark: var(--primary-600);
  --color-accent: var(--primary);
  --color-secondary: var(--secondary);
  --color-error: var(--error);

  /* Text */
  --color-text: var(--text);
  --color-text-muted: var(--muted);

  /* Surfaces */
  --color-border: var(--border);
  --color-bg: var(--bg);
  --color-surface: var(--surface);

  /* UI Specific */
  --color-sidebar-active-bg: var(--card-hover);
  --color-table-header-bg: var(--table-header-bg);
  --color-table-row-hover: var(--table-row-hover);
  --color-logout-hover-bg: rgba(220,38,38,0.08);
  --color-logout-text: var(--error);

  /* Shadow and Radii */
  --shadow-elevation: var(--shadow);
  --radius-card: 16px;
  --radius-input: 10px;
  --radius-button: 10px;
  --radius-chart: 16px;

  /* Spacing */
  --space-outer: 24px;
  --space-inner: 16px;

  /* Legacy shim tokens used by existing components */
  --color-grey-border: var(--border);
  --shadow-soft: var(--shadow);

  /* Additional semantic token used by buttons/badges */
  --color-export-green: var(--primary-600);
}

/* Base */
html, body, #root {
  height: 100%;
}

body {
  background: var(--color-bg);
  color: var(--color-text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

/* Layout helpers */
.container-outer { padding: var(--space-outer); }
.card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-card);
  box-shadow: var(--shadow-elevation);
  padding: var(--space-inner);
}
.card-header {
  background: var(--color-table-header-bg);
  border-top-left-radius: var(--radius-card);
  border-top-right-radius: var(--radius-card);
  border-bottom: 1px solid var(--color-border);
}
.row-hover:hover { background: var(--color-table-row-hover); }

/* Pills */
.pill {
  border-radius: 9999px;
  padding: 6px 10px;
  font-size: 12px;
  line-height: 1;
  border: 1px solid var(--color-border);
  background: #fff;
  color: var(--color-text);
}

/* Sidebar active state */
.sidebar-active {
  background: var(--color-sidebar-active-bg);
  color: var(--color-primary);
  font-weight: 600;
}

/* Logout hover */
.logout-hover:hover {
  background: var(--color-logout-hover-bg);
  color: var(--color-logout-text);
}

/* Chart container */
.chart-container {
  border-radius: var(--radius-chart);
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  box-shadow: var(--shadow-elevation);
  padding: var(--space-inner);
}

/* Table helpers */
.bg-tableHeaderBg { background: var(--color-table-header-bg); }
.hover\:bg-tableRowHover:hover { background: var(--color-table-row-hover); }
.border-neutralBorder { border-color: var(--color-border); }
.text-secondaryText { color: var(--color-text); }
.text-neutralMid { color: var(--color-text-muted); }
.bg-surface { background: var(--color-surface); }

/* Sticky TopNav helpers used in layout */
.sticky-topnav { position: sticky; top: 0; z-index: 40; height: 64px; }
.app-shell { display: grid; grid-template-columns: 256px 1fr; min-height: 100vh; }
@media (max-width: 1024px) {
  .app-shell { grid-template-columns: 0 1fr; }
}
.app-content { width: 100%; max-width: none; padding-left: 1.5rem; padding-right: 1.5rem; }

/* Sidebar overlay for mobile */
.sidebar-overlay { position: fixed; inset: 0; z-index: 50; display: none; }
.sidebar-overlay.active { display: block; background-color: rgba(0,0,0,0.3); }
.sidebar-panel { position: fixed; left: 0; top: 64px; bottom: 0; width: 256px; z-index: 60; transform: translateX(-100%); transition: transform 200ms ease; }
.sidebar-panel.open { transform: translateX(0); }

/* Utility spacing */
.stack-lg > * + * { margin-top: 24px; }
.page-header { padding: var(--space-outer) var(--space-outer) 0 var(--space-outer); }
.page-container { padding: var(--space-outer); }
